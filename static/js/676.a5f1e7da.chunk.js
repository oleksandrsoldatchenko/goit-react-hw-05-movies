"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[676],{9198:function(e,n,t){t.d(n,{W:function(){return c}});var r=t(184),c=function(e){var n=e.children;return(0,r.jsx)("div",{children:n})}},2845:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(1087),c="MovieGallery_galleryList__JyKHn",o="MovieGallery_galleryList_item__zrpAO",i=t(184),a=function(e){var n=e.movies,t=e.prevLocation;return(0,i.jsx)("div",{children:(0,i.jsx)("ul",{className:c,children:n?n.map((function(e){var n=e.id,c=e.title;return(0,i.jsx)("li",{className:o,children:(0,i.jsx)(r.rU,{to:"/movies/".concat(n),state:{from:t},children:c})},n)})):null})})}},2676:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(3433),c=t(9439),o=t(2791),i=t(1087),a=t(7689),u=t(7596),s=t(9198),l=t(2639),f=t(184),h=function(e){var n=e.onSubmit,t=(0,o.useState)(""),r=(0,c.Z)(t,2),i=r[0],a=r[1],s=function(){a("")};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("header",{children:(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("click");var t=i.trim();""!==t?(n(t),s()):u.Am.error("fill in the fields")},children:[(0,f.jsx)("input",{type:"text",placeholder:"Search",value:i,onChange:function(e){var n=e.currentTarget.value.toLowerCase();a(n)}}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})})})},v=t(2845),d=t(8898);function m(){var e=(0,i.lr)(),n=(0,c.Z)(e,2),t=n[0],m=n[1],p=(0,o.useState)([]),_=(0,c.Z)(p,2),g=_[0],y=_[1],x=(0,o.useState)(null),j=(0,c.Z)(x,2),k=j[0],S=j[1],A=(0,o.useState)(!1),w=(0,c.Z)(A,2),Z=w[0],b=w[1],L=t.get("query"),E=(0,a.TH)();(0,o.useEffect)((function(){if(L){""!==L&&function(e){b(!0);try{(0,d.oi)(e).then((function(e){if(!e.data.results.length)return u.Am.error("There is no movies found with that search request");var n=e.data.results.map((function(e){return{id:e.id,title:e.title}}));y((0,r.Z)(n))}))}catch(k){S(k)}finally{b(!1)}}(L)}}),[L]);return(0,f.jsxs)(s.W,{children:[(0,f.jsx)(h,{onSearch:function(e){m({query:"".concat(e)})}}),k&&u.Am.error("Whoops, something went wrong: ".concat(k.message)),Z&&(0,f.jsx)(l.Z,{}),g.length>0&&(0,f.jsx)(v.Z,{movies:g,prevLocation:E})]})}},8898:function(e,n,t){t.d(n,{y:function(){return f},vw:function(){return u},BG:function(){return l},oi:function(){return s},Bt:function(){return h}});var r=t(3263),c=function(e){return r.Z.get(e)},o={BASE_URL:"https://api.themoviedb.org/3",API_KEY:"043e40e709f70f9e9754b1cb786dc0f2",DEFAULT_LANGUAGE:"en-US"},i=o.BASE_URL,a=o.API_KEY,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return c("".concat(i,"/trending/movie/day?api_key=").concat(a,"&page=").concat(e))},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c("".concat(i,"/search/movie?api_key=").concat(a,"&page=").concat(n,"&query=").concat(e))},l=function(e){return c("".concat(i,"/movie/").concat(e,"?api_key=").concat(a))},f=function(e){return c("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(a))},h=function(e){return c("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(a))}}}]);
//# sourceMappingURL=676.a5f1e7da.chunk.js.map